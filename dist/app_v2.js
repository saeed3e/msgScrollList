!function(e){function t(t){for(var r,i,s=t[0],c=t[1],l=t[2],d=0,h=[];d<s.length;d++)i=s[d],a[i]&&h.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);h.length;)h.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={1:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;o.push([76,0]),n()}({148:function(e,t){},76:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(14),i=n.n(o),s=function(){return a.a.createElement("div",null,a.a.createElement("div",{className:"navbar-fixed"},a.a.createElement("nav",null,a.a.createElement("div",{className:"nav-wrapper"},a.a.createElement("a",{href:"#!",className:"sidenav-trigger"},a.a.createElement("span",{className:"box-shadow-menu"})),a.a.createElement("a",{href:"#!",className:"brand-logo"},"Messages")))))},c=function(e){var t=e.style;return a.a.createElement("div",{className:"timeline-wrapper",style:t},a.a.createElement("div",{className:"timeline-item z-depth-1"},a.a.createElement("div",{className:"animated-background"},a.a.createElement("div",{className:"background-masker header-left"}),a.a.createElement("div",{className:"background-masker header-bottom"}),a.a.createElement("div",{className:"background-masker subheader-left"}),a.a.createElement("div",{className:"background-masker subheader-bottom"}),a.a.createElement("div",{className:"background-masker content-first-end"}),a.a.createElement("div",{className:"background-masker content-third-line"}),a.a.createElement("div",{className:"background-masker content-fourth-line"}))))},l=function(e){for(var t=e.style,n=e.count,r=void 0===n?1:n,o=[],i=1;i<=r;i++)o.push(a.a.createElement(c,{key:"shim-"+i,style:t}));return o},u=n(34),d=n(1),h=n.n(d),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Element.prototype._parent=function(e){for(var t=this,n=void 0!==e;null!==(t=t.parentElement);)if(t.nodeType===Node.ELEMENT_NODE&&(!n||t.matches(e)))return t};var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onStart=this.onStart.bind(this),this.onMove=this.onMove.bind(this),this.onEnd=this.onEnd.bind(this),this.update=this.update.bind(this),this.targetBCR=null,this.target=null,this.startX=0,this.currentX=0,this.screenX=0,this.targetX=0,this.draggingCard=!1,this.targetNodeClass=t.targetNodeClass,this.delegatedNodeSelector=t.parentNodeSelector,this.onCardDismissed=t.onCardDismissed,this.addEventListeners(),requestAnimationFrame(this.update)}return f(e,[{key:"addEventListeners",value:function(){var e=document.querySelector(this.delegatedNodeSelector)||document;e.addEventListener("touchstart",this.onStart),e.addEventListener("touchmove",this.onMove),e.addEventListener("touchend",this.onEnd),e.addEventListener("mousedown",this.onStart),e.addEventListener("mousemove",this.onMove),e.addEventListener("mouseup",this.onEnd)}},{key:"onStart",value:function(e){if(!this.target){console.log("."+this.targetNodeClass);var t=e.target._parent("."+this.targetNodeClass);t&&(this.target=t,this.targetBCR=this.target.getBoundingClientRect(),this.startX=e.pageX||e.touches[0].pageX,this.currentX=this.startX,this.draggingCard=!0,this.target.style.willChange="transform")}}},{key:"onMove",value:function(e){this.target&&(this.currentX=e.pageX||e.touches[0].pageX)}},{key:"onEnd",value:function(e){if(this.target){this.targetX=0;var t=this.currentX-this.startX,n=.35*this.targetBCR.width;Math.abs(t)>n&&(this.targetX=t>0?this.targetBCR.width:-this.targetBCR.width),this.draggingCard=!1}}},{key:"update",value:function(){if(requestAnimationFrame(this.update),this.target){this.draggingCard?this.screenX=this.currentX-this.startX:this.screenX+=(this.targetX-this.screenX)/4;var e=Math.abs(this.screenX)/this.targetBCR.width,t=1-Math.pow(e,.5);if(this.target.style.transform="translateX("+this.screenX+"px)",this.target.style.opacity=t,!this.draggingCard){var n=Math.abs(this.screenX)<.1;if(t<.01){if(!this.target||!this.target.parentNode)return;this.target.style.opacity=1,this.target.style.transform="none",this.target.style.willChange="initial";var r=this.target.getAttribute("index");this.target&&(this.target=null,this.onCardDismissed(parseInt(r)))}else n&&this.resetTarget()}}}},{key:"resetTarget",value:function(){this.target&&(this.target.style.willChange="initial",this.target.style.transform="none",this.target=null)}}]),e}(),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),m(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.onCardDismissed,n=e.targetNodeClass,r=e.parentNodeSelector;new p({onCardDismissed:t,targetNodeClass:n,parentNodeSelector:r})}},{key:"render",value:function(){return this.props.children}}]),t}();g.propTypes={onCardDismissed:h.a.func.isRequired,targetNodeClass:h.a.string.isRequired,parentNodeSelector:h.a.string};var y=n(60),v={baseUrl:"//message-list.appspot.com"},b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),b(t,[{key:"render",value:function(){var e=this.props,t=(e.id,e.imgsrc),n=e.name,r=e.time,o=e.index,i=e.message,s=e.style,c=Object(y.timeago)().ago(new Date(r).toUTCString());return a.a.createElement("div",{className:"swipeableCard",index:o,style:s},a.a.createElement("div",{className:"card-panel"},a.a.createElement("header",null,a.a.createElement("img",{src:v.baseUrl+t,width:"40",height:"40"}),a.a.createElement("div",null,a.a.createElement("div",{className:"name"},n,o),a.a.createElement("span",{className:"time"},c))),a.a.createElement("div",{className:"msg block-with-text"},i)))}}]),t}();var E=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function C(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var k=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.dummyNodetoFindout_contentWidth=function(){var t=document.createElement("div");return t.classList.add("block-with-text","dummyNode"),t.style.width=window.innerWidth-2*(e.cardLeftMargin+e.cardLeftPadding+function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var r=n.offsetWidth;return e.parentNode.removeChild(e),t-r}())+"px",document.body.appendChild(t),t},e.getDataFromServer=function(){return fetch(v.baseUrl+"/messages?limit=20&pageToken="+e.nextToken).then(function(e){return e.json()}).then(function(t){e.nextToken=t.pageToken;var n=e.dummyNodetoFindout_contentWidth();t.messages.map(function(t,r){return n.innerText=t.content,t.height=n.clientHeight+e.cardTopSpacing,t}),n.remove(),e.setState({msgList:[].concat(C(e.state.msgList),C(t.messages))})})},e.rowRenderer=function(t){t.key;var n=t.index,r=t.style,o=null,i=Object.assign({},r,{width:"calc(100% - "+2*e.cardLeftMargin+"px)",left:e.cardLeftMargin+"px",top:r.top+2*e.cardTopSpacing});if(e.state.msgList[n]){var s=e.state.msgList[n],c=s.author,u=s.content,d=s.updated,h=s.id;o=a.a.createElement(w,{style:i,key:"isml-"+n,index:n,imgsrc:c.photoUrl,name:c.name,time:d,id:h,message:u,onCardDismissed:e.onCardDismissed})}else e.state.msgList.length&&(o=a.a.createElement(l,{key:"shim-"+n,style:i}));return o},e.isRowLoaded=function(t){var n=t.index;return!!e.state.msgList[n]},e.onCardDismissed=function(t){var n=[].concat(C(e.state.msgList.slice(0,t)),C(e.state.msgList.slice(t+1,e.state.msgList.length)));e.setState({msgList:n})},e.noRowsRenderer=function(){return a.a.createElement("div",{className:"initialShimmer"},a.a.createElement(l,{count:4}))},e.nextToken="",e.state={msgList:[]},e.cardTopSpacing=8,e.cardLeftMargin=20,e.cardLeftPadding=21,e.cardHeaderHeight=42,e.cardTopBottomPadding=44,e.cardContentTopMargin=12,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["PureComponent"]),E(t,[{key:"render",value:function(){var e=this,t=this.state.msgList,n=t.length?t.length+1:1;return a.a.createElement("div",{className:"msgCont"},a.a.createElement(g,{onCardDismissed:this.onCardDismissed,parentNodeSelector:".msgCont",targetNodeClass:"swipeableCard"},a.a.createElement(u.InfiniteLoader,{isRowLoaded:this.isRowLoaded,loadMoreRows:function(){return e.getDataFromServer()},rowCount:n},function(r){var o=r.onRowsRendered,i=r.registerChild;return a.a.createElement(u.AutoSizer,{className:"card-container"},function(r){var s=r.height,c=r.width;return a.a.createElement(u.List,{ref:i,onRowsRendered:o,width:c,height:s,rowCount:n,rowHeight:function(n){var r=n.index,a=t[r]?t[r].height+e.cardHeaderHeight+e.cardTopBottomPadding+e.cardContentTopMargin:175;return a},rowRenderer:e.rowRenderer,noRowsRenderer:e.noRowsRenderer})})})))}}]),t}(),N=(n(148),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),N(t,[{key:"render",value:function(){return[a.a.createElement(s,{key:"header"}),a.a.createElement(k,{key:"msgCont"})]}}]),t}();i.a.render(a.a.createElement(O,null),document.getElementById("root"))}});